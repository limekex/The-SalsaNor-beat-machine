# Environment Variables Template
# Copy this file to .env.local and fill in your values
# DO NOT commit .env.local to version control!

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database?schema=public
# 
# Local development:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/salsabeatmachine?schema=public"
#
# Production (Supabase example):
# DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres"
#
# Production (PlanetScale example):
# DATABASE_URL="mysql://xxxxx:pscale_pw_xxxxx@xxxxx.us-east-3.psdb.cloud/salsabeatmachine?sslaccept=strict"

DATABASE_URL="postgresql://postgres:password@localhost:5432/salsabeatmachine?schema=public"

# =============================================================================
# AUTHENTICATION
# =============================================================================
# JWT Secret Key - used to sign authentication tokens
# Generate a secure random string: openssl rand -base64 32
# IMPORTANT: Keep this secret and use a different value in production!

JWT_SECRET="your-super-secret-jwt-key-change-this-in-production-use-openssl-rand-base64-32"

# JWT Token Expiration (in seconds or zeit/ms format)
# Examples: "30d", "7d", "24h", "3600" (seconds)
JWT_EXPIRES_IN="30d"

# Password hashing bcrypt rounds (10-12 recommended for production)
BCRYPT_ROUNDS="10"

# =============================================================================
# OAUTH PROVIDERS (Optional)
# =============================================================================
# Google OAuth
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Facebook OAuth
# Get credentials from: https://developers.facebook.com/apps/
FACEBOOK_APP_ID=""
FACEBOOK_APP_SECRET=""

# Apple OAuth
# Get credentials from: https://developer.apple.com/
APPLE_CLIENT_ID=""
APPLE_TEAM_ID=""
APPLE_KEY_ID=""
APPLE_PRIVATE_KEY=""

# =============================================================================
# EMAIL SERVICE (Optional - for verification and password reset)
# =============================================================================
# SendGrid
SENDGRID_API_KEY=""
SENDGRID_FROM_EMAIL="noreply@salsabeatmachine.org"

# Alternative: AWS SES
# AWS_SES_ACCESS_KEY=""
# AWS_SES_SECRET_KEY=""
# AWS_SES_REGION="us-east-1"

# Alternative: Mailgun
# MAILGUN_API_KEY=""
# MAILGUN_DOMAIN=""

# =============================================================================
# FILE STORAGE
# =============================================================================
# AWS S3 (for audio files, avatars, thumbnails)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET="salsabeatmachine-assets"
AWS_S3_REGION="us-east-1"

# Alternative: Vercel Blob Storage
# BLOB_READ_WRITE_TOKEN=""

# Alternative: Firebase Storage
# FIREBASE_STORAGE_BUCKET=""

# =============================================================================
# REDIS (Optional - for caching and session management)
# =============================================================================
# Local Redis
# REDIS_URL="redis://localhost:6379"

# Upstash Redis (recommended for serverless)
# Get from: https://console.upstash.com/
# REDIS_URL="rediss://default:xxxxx@xxxxx.upstash.io:6379"

REDIS_URL=""

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Node environment
NODE_ENV="development"

# Application URL (used for email links, OAuth callbacks)
NEXT_PUBLIC_APP_URL="http://localhost:3009"

# API Base URL (for frontend API calls)
NEXT_PUBLIC_API_URL="http://localhost:3009/api"

# =============================================================================
# RATE LIMITING
# =============================================================================
# Requests per window for anonymous users
RATE_LIMIT_ANONYMOUS="100"

# Requests per window for authenticated users
RATE_LIMIT_AUTHENTICATED="1000"

# Rate limit window in seconds
RATE_LIMIT_WINDOW="900"

# =============================================================================
# MONITORING & ANALYTICS (Optional)
# =============================================================================
# Sentry (error tracking)
# Get from: https://sentry.io/
SENTRY_DSN=""

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=""

# PostHog (product analytics)
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST=""

# =============================================================================
# CDN (Optional)
# =============================================================================
# CloudFront Distribution ID (AWS CDN)
CDN_DISTRIBUTION_ID=""

# CloudFlare CDN
CLOUDFLARE_ZONE_ID=""
CLOUDFLARE_API_TOKEN=""

# =============================================================================
# FEATURE FLAGS (Optional)
# =============================================================================
# Enable/disable features
ENABLE_OAUTH="false"
ENABLE_EMAIL_VERIFICATION="false"
ENABLE_SOCIAL_FEATURES="true"
ENABLE_ANALYTICS="true"
ENABLE_COMMENTS="true"

# =============================================================================
# ADMIN SETTINGS
# =============================================================================
# Admin email addresses (comma-separated)
ADMIN_EMAILS="admin@salsabeatmachine.org"

# =============================================================================
# WEBHOOKS (Optional)
# =============================================================================
# Webhook secret for verifying webhook requests
WEBHOOK_SECRET=""

# =============================================================================
# PRODUCTION ONLY
# =============================================================================
# Database connection pooling (for production)
# DATABASE_CONNECTION_LIMIT="10"

# Session secret (for production)
# SESSION_SECRET=""

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit this file with real values to version control
# 2. Use different values for development, staging, and production
# 3. Store production secrets in your hosting platform's environment variables
#    (Vercel, Railway, AWS Secrets Manager, etc.)
# 4. Rotate secrets regularly, especially after team member departures
# 5. Use strong, randomly generated values for all secrets
# 6. Keep a secure backup of production environment variables
